(this.webpackJsonpohmyfoodadmin=this.webpackJsonpohmyfoodadmin||[]).push([[0],{51:function(e){e.exports=JSON.parse('{"a":{"host":"https://oh-my-food.herokuapp.com","gql_api":"https://oh-my-food.herokuapp.com/graphql"}}')},83:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(21),i=a.n(o),s=(a(83),a(6)),l=a(37),d=a(10),j=a(12),b=a(118),p=a(121),u=a(128),m=a(29),h=a(4),x=a(122),g=a(140),O=a(119),f=a(120),y=Object(b.a)((function(){return{root:{left:0,height:"100vh",overflow:"auto",backgroundColor:"#F2F4F7",transition:"all 0.3s",zIndex:99},iconButton:{"&:hover":{backgroundColor:"#F2F4F7"},transition:"all 0.3s"},settingContainer:{transition:"all 0.3s",marginBottom:"2.2rem"},icon:{color:"#70709c",transition:"all 0.3s"},selectedIcon:{transition:"all 0.3s",color:"#fff"},selectedIconButton:{transition:"all 0.3s","&:hover":{backgroundColor:"#3596F8"}},selected:{transition:"all 0.3s",backgroundColor:"#3596F8",borderRadius:15,boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},menuContainer:{transition:"all 0.3s",marginBottom:"1rem"}}})),v=[{IconComponent:O.a,pathname:"/admin"},{IconComponent:f.a,pathname:"/admin/categories"}],C=function(e){var t=Object(d.g)(),a=Object(d.f)(),r=y();return t.pathname=function(e){var t=e.pathname.split("/"),a=[];return t.forEach((function(e){e&&a.push(e)})),"/"+a.join("/")}(t),Object(n.jsxs)(p.a,Object(s.a)(Object(s.a)({container:!0,item:!0,wrap:"nowrap",direction:"column"},e),{},{className:r.root,children:[Object(n.jsx)(p.a,{item:!0,container:!0,justify:"center",className:r.settingContainer,children:Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{className:r.iconButton,children:Object(n.jsx)(g.a,{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABmCAYAAAAXmsXwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO7SURBVHhe7dvJTxRBGMZh/2DWISEhLB7wROTCQWBgiCAYMBExQsAMglEjEBZBlAiyGxgGBAZmh8Nnf0X01CZE0lNdr+/hCUeq+jdd3dM1fe8ykxdyH0OCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIEIRMpMvSr54LVnvr225wpUZSzpb8B1rWFkPqQdv4/uhDD37IN2xuHWxnriMjS1I8uRCMjl3YloNmckVZXMrIU33n0p5eVQqKrpCIOqNpVPaO8bl9DzjzJlpNaQuYSMjs+bg1dT0hEYkEjO+rv3wltqi79jDxmrIwtW1DL+YNWej3wG1qbo6Jl/W9s0102/sYWM1pF4fdWltbByQinK/Za70Kj1lZVF51D4uZ1xaby+TL8j6xoEMDr6Tjs4Jq9o7JiQafS2vRuclkUyZa7jfmMPIekilZ2a+eHPbHwY5bywu3bGqUISku2NIEAwJgiFBMCQIhgTBkCBCE1KfoOh3N5fZfAoUipD6PFN3Gg6Pzpz28yxt7dms9ZD6KZ6aXpWHrSPS/GDIaS0twxKPL/vOM2hWQ2YLRVlc2jK7DZWVXWbHwWU3c+iWmbn1kp+ZVkPqNpb+MiCM21j/SvdW+55Mm7n5zTkoVkPmvcmOTyyayfsdFBfpXEZezv1fIfX6eHSckra2UbMkua6qqltavWv9QeKs5Hew1m929Lb95PRS5hc2ZfLNitNm5zbk+OTSzMlvrkGyHlLpp1dvDnQf0GneHGx9lwxFSLo7hgTBkCAYEgRDgmBIEAwJIhQh09mb37aa75IloK/x+Y3DZdZD6hfoi3RONjYPZeXzbqCW9e/qruzun4hLvyK/Dash9Uw8TWWkt3dKamsf/3n/Iki61VRf3y/xyWWomFZD6msCU29XzQHW19j8dhOCoA+36+r6ZGv7yCzpfmNzjdWQutUzOPTeC1n6bSz98Cx92jbXTL+xucZqSD2IH2e+mTNEd9j1AEciwdL/octrU9OA7Om1Mu/Wyzp/Y/kaWZDUZU6eD89IQ0O/uU6WQnPzkPkAoSyrympIpTFVInku2ztJ2QrYzt6x2f9Eiqish/xNY+pdZPDs/v40KKEJSXfDkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJIS+/AP9y9GEwGwg3AAAAAElFTkSuQmCC"})})})}),v.map((function(e){return Object(n.jsx)(p.a,{item:!0,container:!0,justify:"center",className:r.menuContainer,children:Object(n.jsx)(p.a,{item:!0,className:Object(h.a)(Object(m.a)({},r.selected,e.pathname===t.pathname)),children:Object(n.jsx)(x.a,{onClick:function(){return a.push(e.pathname)},className:Object(h.a)(r.iconButton,Object(m.a)({},r.selectedIconButton,e.pathname===t.pathname)),children:Object(n.jsx)(e.IconComponent,{className:Object(h.a)(r.icon,Object(m.a)({},r.selectedIcon,e.pathname===t.pathname))})})})},e.pathname)}))]}))},w=a(139),k=a(124),A=a(126),N=a(125),S=a(127),I=a(123),T=Object(b.a)((function(){return{root:{backgroundColor:"transparent",position:"fixed",zIndex:98},headerContainer:{backgroundColor:"#fff",borderRadius:35,margin:"1rem 2rem",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},title:{letterSpacing:2},nakedInput:{"& .MuiInputBase-input::placeholder":{fontSize:15,fontFamily:"Poppins",color:"#70709c"}},icon:{color:"#70709c"},divider:{border:".5px solid #E8E8EF",height:38,margin:"1rem"},badge:{backgroundColor:"#F2406D"}}})),E=function(e){var t=Object(I.a)("(max-width:823px)"),a=Object(I.a)("(max-width:473px)"),r=Object(I.a)("(max-width:414px)"),c=Object(I.a)("(max-width:375px)"),o=T();return Object(n.jsx)(p.a,Object(s.a)(Object(s.a)({item:!0},e),{},{container:!0,className:o.root,style:Object(s.a)(Object(s.a)({},e.style),{},{paddingLeft:a?0:83}),children:Object(n.jsxs)(p.a,{container:!0,justify:"space-between",alignItems:"center",item:!0,className:o.headerContainer,style:{padding:c?"0 1rem":"0 3rem"},children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)("h2",{className:o.title,style:{display:t?"none":""},children:"Oh My Food"})}),Object(n.jsx)(p.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(n.jsxs)(p.a,{item:!0,container:!0,alignItems:"center",children:[Object(n.jsx)(p.a,{item:!0,xs:7,sm:3,children:Object(n.jsx)(w.a,{startAdornment:Object(n.jsx)(k.a,{position:"start",children:Object(n.jsx)(N.a,{className:o.icon})}),className:o.nakedInput,placeholder:"Search Here",inputProps:{"aria-label":"naked"}})}),Object(n.jsx)("div",{className:o.divider}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{children:Object(n.jsx)(A.a,{classes:{colorPrimary:o.badge},color:"primary",variant:"dot",overlap:"circle",children:Object(n.jsx)(S.a,{className:o.icon})})})}),Object(n.jsx)("div",{style:{flex:1,display:r?"none":""}}),Object(n.jsx)(p.a,{item:!0,style:{display:r?"none":""},children:Object(n.jsx)("div",{children:"Su"})})]})})]})}))},B=a(129),z=Object(b.a)((function(){return{container:{flex:1},fab:{transition:"all 0.3s",position:"absolute",right:20,bottom:20,backgroundColor:"#70709c",color:"#fff","&:hover":{backgroundColor:"#70709c"}},icon:{transition:"all 0.3s"}}})),P=function(e){var t=e.routes,a=Object(I.a)("(max-width:473px)"),c=Object(d.g)(),o=z(),i=Object(r.useState)(!0),s=Object(j.a)(i,2),l=s[0],b=s[1];Object(r.useEffect)((function(){-1!==c.pathname.indexOf("/admin/login")||a?b(!1):b(!0)}),[c,a]);var m={display:-1!==c.pathname.indexOf("/admin/login")?"none":""};return Object(n.jsxs)(p.a,{container:!0,children:[Object(n.jsx)(C,{style:{width:l?83:0,position:a?"absolute":"static"}}),Object(n.jsx)(u.a,{style:{transform:a&&-1===c.pathname.indexOf("/admin/login")?"scale(1)":"scale(0)"},"aria-label":"expand",className:o.fab,onClick:function(){return b((function(e){return!e}))},children:Object(n.jsx)(B.a,{className:o.icon,style:{transform:l?"rotate(0deg)":"rotate(-180deg)"}})}),Object(n.jsx)(E,{style:m}),Object(n.jsx)(p.a,{item:!0,className:o.container,children:Object(n.jsx)(d.c,{children:t.map((function(e){return Object(n.jsx)(d.a,{path:e.path,exact:!0,component:e.component},e.path)}))})})]})},D=a(19),F=a.n(D),R=a(26),_=a(131),G=Object(b.a)((function(){return{input:{borderWidth:0,padding:".6rem .9rem",borderRadius:10,width:"100%",color:"#E9E9E9",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#E9E9E9"}},errorLabel:{color:"red",fontSize:12}}})),U=function(e){var t=G(),a=Object(s.a)({},e);delete a.errorLabel;var c="";return e.errorLabel&&(c=Object(n.jsx)("div",{className:t.errorLabel,children:e.errorLabel})),Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("input",Object(s.a)(Object(s.a)({},a),{},{className:"".concat(t.input," ").concat(e.className)})),c]})};U.defaultProps={className:""};var $=U,M=a.p+"static/media/ma-la-xiang-guo-10.73a334fe.jpg",Q=a(51),W=a(138),q=a(130),Y=Object(r.createContext)([]),L=Object(b.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Z=function(e){var t=e.children,a=L(),c=Object(r.useState)(!1);return Object(n.jsxs)(Y.Provider,{value:c,children:[t,Object(n.jsx)(W.a,{className:a.backdrop,open:c[0],children:Object(n.jsx)(q.a,{color:"inherit"})})]})},H=Object(b.a)((function(){return{root:{height:"100vh"},coverImageContainer:{height:"100vh"},coverImage:{width:"100%",height:"100%"},controls:{backgroundColor:"#F3F5F9"},title:{color:"#41546B"},button:{textTransform:"capitalize",backgroundColor:"#FE9215",color:"#fff",borderRadius:10,paddingLeft:"2rem",paddingRight:"2rem","&:hover, &:active":{backgroundColor:"#FE9215"}}}})),J=function(){var e=Object(d.f)(),t=Object(r.useContext)(Y),a=Object(j.a)(t,2),c=a[0],o=a[1],i=Object(r.useState)("09404888722"),s=Object(j.a)(i,2),l=s[0],b=s[1],u=Object(r.useState)("123456"),m=Object(j.a)(u,2),h=m[0],x=m[1],g=Object(r.useState)(""),O=Object(j.a)(g,2),f=O[0],y=O[1],v=Object(r.useState)(""),C=Object(j.a)(v,2),w=C[0],k=C[1],A=H(),N=Object(I.a)("(max-width:1024px)"),S=function(){return l.length>=9&&l.length<=11&&h.length>0},T=function(){var t=Object(R.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!S()){t.next=13;break}return"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",o(!0),t.next=6,fetch(Q.a.gql_api,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",variables:{phone:l,password:h}})}).then((function(e){return e.json()}));case 6:if(a=t.sent,o(!1),"admin"===a.data.login.user.role){t.next=11;break}throw new Error("Unauthorized!");case 11:localStorage.setItem("ohmyfood_token",a.data.login.token),e.push("/admin");case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),c&&o(!1),alert(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(p.a,{container:!0,className:A.root,children:[Object(n.jsx)(p.a,{justify:"center",alignItems:"center",container:!0,item:!0,xs:12,sm:12,md:12,lg:7,className:A.controls,children:Object(n.jsxs)(p.a,{spacing:3,item:!0,container:!0,xs:10,md:4,direction:"column",justify:"center",children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)("h2",{className:A.title,children:"Login to Oh My Food Admin"})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)($,{placeholder:"Phone number",value:l,onChange:function(e){e.target.value=e.target.value.replace(/[a-zA-z]/g,"");var t=e.target.value;b(t),t.length<9||t.length>11?y("Phone no must be between 9 and 11 characters!"):y("")},errorLabel:f})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)($,{type:"password",placeholder:"Password",value:h,onChange:function(e){var t=e.target.value;x(t),0===t.length?k("Password must not be empty!"):k("")},errorLabel:w})}),Object(n.jsx)(p.a,{item:!0,container:!0,justify:"flex-end",children:Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(_.a,{size:"large",variant:"contained",className:A.button,onClick:T,disabled:!S()||c,children:"Log In"})})})]})}),Object(n.jsx)(p.a,{style:{display:N?"none":""},item:!0,xs:12,md:5,className:A.coverImageContainer,children:Object(n.jsx)("img",{src:M,className:A.coverImage,alt:""})})]})},V=function(){return Object(n.jsx)("div",{children:"Dashboard"})},X=a(137),K=Object(r.createContext)({}),ee=function(e,t){switch(t.type){case"CATEGORY_TYPES":return Object(s.a)(Object(s.a)({},e),{},{categoryTypes:t.payload});case"CATEGORIES":return Object(s.a)(Object(s.a)({},e),{},{categories:t.payload});case"CATEGORY_TYPE":return Object(s.a)(Object(s.a)({},e),{},{categoryType:t.payload});case"SET_STATE":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},te=function(e){var t=e.children,a=Object(r.useReducer)(ee,{categoryTypes:[],categories:[],categoryType:null});return Object(n.jsx)(K.Provider,{value:a,children:t})},ae={post:function(e){return Object(R.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(Q.a.gql_api,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("ohmyfood_token"))},body:JSON.stringify(e||{})}).then((function(e){return e.json()})));case 1:case"end":return t.stop()}}),t)})))()}},ne=a(142),re=a(132),ce=a(69),oe=a(5),ie=a(141),se=Object(oe.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#643FDB",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(ce.a)(e,["classes"]);return Object(n.jsx)(ie.a,Object(s.a)({className:t.switch,focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),le=Object(b.a)((function(){return{root:{borderRadius:10,padding:"0.5rem 1rem",marginBottom:4,display:"flex",justifyContent:"space-between",alignItems:"center","&:hover":{boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"}},label:{marginRight:0},text:{fontSize:13}}})),de=function(e){var t=e.categoryType,a=le(),c=Object(r.useContext)(K),o=Object(j.a)(c,2),i=o[0],l=o[1];return Object(n.jsxs)(ne.a,{className:a.root,raised:t.selected,onClick:function(){t.selected||l({type:"SET_STATE",payload:{categoryTypes:i.categoryTypes.map((function(e){return e._id===t._id?Object(s.a)(Object(s.a)({},e),{},{selected:!0}):Object(s.a)(Object(s.a)({},e),{},{selected:!1})})),categoryType:t}})},children:[Object(n.jsx)("div",{className:a.text,children:t.name}),Object(n.jsx)(re.a,{classes:{root:a.label},control:Object(n.jsx)(se,{onClick:function(e){return e.stopPropagation()},checked:t.include,onChange:function(e){l({type:"CATEGORY_TYPES",payload:i.categoryTypes.map((function(a){return a._id===t._id?Object(s.a)(Object(s.a)({},a),{},Object(m.a)({},e.target.name,e.target.checked)):a}))});ae.post({query:"\n      mutation UpdateCategoryType($id: ID!, $name: String!, $imageUrl: String!, $include: Boolean!, $categories: [String!]) {\n        updateCategoryType(id: $id, categoryTypeInput: {name: $name, imageUrl: $imageUrl, include: $include, categories: $categories}) {\n            _id\n            updatedAt\n        }\n      }\n    ",variables:{id:t._id,name:t.name,imageUrl:t.imageUrl,include:e.target.checked,categories:t.categories.map((function(e){return e._id}))}})},name:"include"})})]})},je=Object(b.a)((function(){return{input:{borderWidth:0,padding:".5rem .9rem",borderRadius:15,width:"100%",color:"#545F6D",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#545F6D"}}}})),be=function(e){var t=je();return Object(n.jsx)("input",Object(s.a)({type:"text",className:t.input},e))},pe=a(53),ue=a.n(pe),me=a(52),he=a.n(me),xe=Object(b.a)((function(){return{root:{},wrapper:{marginTop:"1rem"},iconButton:{background:"#fff",padding:"0.5rem"},icon:{color:"#70709c",fontSize:20},nextPrevIcon:{color:"#70709c",fontSize:10},addButton:{textTransform:"capitalize",borderRadius:15,fontSize:12},buttonWrapper:{display:"flex",justifyContent:"space-between"}}})),ge=function(){var e=xe(),t=Object(r.useContext)(Y),a=Object(j.a)(t,2)[1],c=Object(r.useContext)(K),o=Object(j.a)(c,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n        query CategoryTypes($page: Int!, $perPage: Int!) {\n          categoryTypes(page: $page, perPage: $perPage) {\n              categoryTypes {\n                  _id\n                  name\n                  imageUrl\n                  include\n                  categories {\n                    _id\n                  }\n              }\n          }\n        }\n      ",a(!0),e.next=4,ae.post({query:"\n        query CategoryTypes($page: Int!, $perPage: Int!) {\n          categoryTypes(page: $page, perPage: $perPage) {\n              categoryTypes {\n                  _id\n                  name\n                  imageUrl\n                  include\n                  categories {\n                    _id\n                  }\n              }\n          }\n        }\n      ",variables:{page:0,perPage:0}});case 4:t=e.sent,a(!1),l({type:"SET_STATE",payload:{categoryTypes:t.data.categoryTypes.categoryTypes.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{selected:0===t})})),categoryType:t.data.categoryTypes.categoryTypes.length?t.data.categoryTypes.categoryTypes[0]:null}});case 7:case"end":return e.stop()}}),e)})))()}),[a,l]),Object(n.jsxs)(X.a,{className:e.root,children:[Object(n.jsxs)(p.a,{container:!0,alignItems:"center",spacing:1,children:[Object(n.jsx)(p.a,{item:!0,lg:10,children:Object(n.jsx)(be,{})}),Object(n.jsx)(p.a,{item:!0,lg:2,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(N.a,{className:e.icon})})})]}),Object(n.jsx)(X.a,{className:e.wrapper,children:i.categoryTypes.map((function(e){return Object(n.jsx)(de,{categoryType:e},e._id)}))}),Object(n.jsxs)(p.a,{container:!0,justify:"space-around",alignItems:"center",className:e.wrapper,children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"prev",className:e.iconButton,children:Object(n.jsx)(he.a,{className:e.nextPrevIcon})})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(_.a,{variant:"outlined",size:"small",className:e.addButton,children:"Add more"})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"next",className:e.iconButton,children:Object(n.jsx)(ue.a,{className:e.nextPrevIcon})})})]})]})},Oe=a(133),fe=a(134),ye=a(135),ve=a(136),Ce=Object(b.a)((function(){return{root:{overflowX:"auto"},headerGrid:{flex:1,fontSize:14,cursor:"pointer"},noGrid:{fontSize:14,cursor:"pointer",flexBasis:30},headerGridRow:{padding:"0 1.9rem"},gridRow:{fontSize:12,padding:"1.5rem 1rem",margin:"1rem"}}})),we=function(e){var t=e.headers,a=e.items,r=e.children,c=Ce();return Object(n.jsxs)(X.a,{className:c.root,children:[Object(n.jsxs)(p.a,{container:!0,spacing:1,alignItems:"center",className:c.headerGridRow,children:[Object(n.jsx)(p.a,{item:!0,className:c.noGrid,children:"#"}),t.map((function(e,t){return Object(n.jsx)(p.a,{item:!0,className:c.headerGrid,children:e.text},"grid_table__header__".concat(t))}))]}),a.map((function(e,t){return Object(n.jsx)(ne.a,{raised:!0,className:c.gridRow,children:Object(n.jsxs)(p.a,{container:!0,spacing:1,children:[Object(n.jsx)(p.a,{item:!0,className:c.noGrid,style:{fontSize:12},children:t+1}),r({item:e,index:t})]})},"grid_table__body__".concat(t))}))]})},ke=Object(b.a)((function(){return{root:{},iconButton:{background:"#fff",padding:"0.5rem"},card:{transition:"all 0.3s",cursor:"pointer",width:31,height:29.5,display:"flex",justifyContent:"center",alignItems:"center",fontSize:13,borderRadius:7}}})),Ae=function(e){var t=e.count,a=e.page,r=e.onPageChange,c=ke(),o=function(){return t>7?null:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=[],a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a<=e;a++)t.push(a);return t}(1,t).map((function(e){return Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(ne.a,{onClick:function(){return r(e)},className:c.card,style:{background:a===e?"black":"#fff"},children:Object(n.jsx)(_.a,{style:{color:a===e?"#fff":"black"},children:e})})})}))};return Object(n.jsxs)(p.a,{container:!0,spacing:1,className:c.root,justify:"center",children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"prev",className:c.iconButton,children:Object(n.jsx)(he.a,{className:c.nextPrevIcon,style:{fontSize:12}})})}),Object(n.jsx)(o,{}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"next",className:c.iconButton,children:Object(n.jsx)(ue.a,{className:c.nextPrevIcon,style:{fontSize:12}})})})]})},Ne=Object(b.a)((function(){return{root:{padding:"1rem",borderRadius:15},iconButton:{background:"#fff",padding:"0.5rem",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},icon:{color:"#70709c",fontSize:20},showAllButton:{textTransform:"capitalize",borderRadius:15,fontSize:12},tableControl:{marginTop:"2rem",marginBottom:"1rem"}}})),Se=function(){var e=Ne(),t=Object(r.useContext)(Y),a=Object(j.a)(t,2)[1],c=Object(r.useContext)(K),o=Object(j.a)(c,2),i=o[0],s=i.categoryType,l=i.categories,d=o[1],b=Object(r.useState)(10),u=Object(j.a)(b,2),m=u[0],h=(u[1],Object(r.useState)(1)),g=Object(j.a)(h,2),O=g[0],f=g[1],y=Object(r.useState)(0),v=Object(j.a)(y,2),C=v[0],w=v[1];return Object(r.useEffect)((function(){Object(R.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\n        query CategoryType($id: ID!) {\n          categoryType(id: $id) {\n              categories {\n                  _id\n                  name\n                  price\n                  discountPercent\n                  openHour\n                  closeHour\n                  imageUrl\n                  tags\n              }\n          }\n        }\n      ",!s){e.next=10;break}return a(!0),e.next=5,ae.post({query:"\n        query CategoryType($id: ID!) {\n          categoryType(id: $id) {\n              categories {\n                  _id\n                  name\n                  price\n                  discountPercent\n                  openHour\n                  closeHour\n                  imageUrl\n                  tags\n              }\n          }\n        }\n      ",variables:{id:s._id}});case 5:t=e.sent,a(!1),n=t.data.categoryType.categories,d({type:"CATEGORIES",payload:n}),w(Math.ceil(n.length/m));case 10:case"end":return e.stop()}}),e)})))()}),[a,d,s]),s?Object(n.jsxs)(ne.a,{className:e.root,children:[Object(n.jsxs)(p.a,{container:!0,item:!0,lg:12,alignItems:"center",spacing:1,children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)("h4",{style:{margin:0},children:s.name})}),Object(n.jsx)(p.a,{item:!0,style:{flex:1}}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(Oe.a,{className:e.icon})})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,style:{background:"red"},children:Object(n.jsx)(fe.a,{className:e.icon,style:{color:"#fff"}})})})]}),Object(n.jsxs)(p.a,{container:!0,spacing:1,className:e.tableControl,children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(ye.a,{})})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(ve.a,{})})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(_.a,{variant:"outlined",size:"small",className:e.showAllButton,children:"Show all"})}),Object(n.jsx)(p.a,{item:!0,style:{flex:1}}),Object(n.jsx)(p.a,{item:!0,lg:3,children:Object(n.jsx)(be,{placeholder:"Search..."})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(N.a,{className:e.icon})})})]}),Object(n.jsx)(we,{headers:[{key:"name",text:"Category Name"},{key:"price",text:"Price"},{key:"discountPercent",text:"Discount Percent"},{key:"openHour",text:"Open Hour"},{key:"closeHour",text:"Close Hour"},{key:"tags",text:"Tags"},{key:"",text:""}],items:l,children:function(t){var a=t.item;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.name}),Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.price}),Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.discountPercent}),Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.openHour}),Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.closeHour}),Object(n.jsx)(p.a,{item:!0,style:{flex:1},children:a.tags.join(", ")}),Object(n.jsxs)(p.a,{item:!0,container:!0,style:{flex:1},justify:"space-around",children:[Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(Oe.a,{className:e.icon})})}),Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(fe.a,{className:e.icon})})})]})]})}}),Object(n.jsx)(Ae,{count:C,page:O,onPageChange:function(e){return f(e)}})]}):null},Ie=Object(b.a)((function(){return{root:{paddingTop:"5.5rem",paddingLeft:"2rem",paddingRight:"2rem"}}})),Te=[{path:"/admin/login",component:J},{path:"/admin",component:V},{path:"/admin/categories",component:function(){var e=Ie();return Object(n.jsxs)(X.a,{className:e.root,children:[Object(n.jsx)("h3",{children:"Category"}),Object(n.jsxs)(p.a,{container:!0,children:[Object(n.jsx)(p.a,{item:!0,lg:2,children:Object(n.jsx)(ge,{})}),Object(n.jsx)(p.a,{item:!0,lg:10,style:{paddingLeft:"2rem"},children:Object(n.jsx)(Se,{})})]})]})}}],Ee=function(){return Object(n.jsx)(l.a,{children:Object(n.jsx)(d.c,{children:Object(n.jsx)(d.a,{path:"/admin/",render:function(e){return Object(n.jsx)(P,Object(s.a)(Object(s.a)({},e),{},{routes:Te}))}})})})},Be=function(){return Object(n.jsx)(Z,{children:Object(n.jsx)(te,{children:Object(n.jsx)(Ee,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Be,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.1f073e3a.chunk.js.map