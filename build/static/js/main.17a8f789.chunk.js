(this.webpackJsonpohmyfoodadmin=this.webpackJsonpohmyfoodadmin||[]).push([[0],{50:function(e){e.exports=JSON.parse('{"a":{"host":"https://oh-my-food.herokuapp.com","gql_api":"https://oh-my-food.herokuapp.com/graphql"}}')},61:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),c=n(17),i=n.n(c),s=(n(61),n(13)),l=n(27),d=n(8),j=n(19),b=n(96),m=n(100),h=n(106),p=n(24),u=n(4),x=n(101),O=n(112),g=n(98),f=n(99),A=Object(b.a)((function(){return{root:{left:0,height:"100vh",overflow:"auto",backgroundColor:"#F2F4F7",transition:"all 0.3s",zIndex:9},iconButton:{"&:hover":{backgroundColor:"#F2F4F7"},transition:"all 0.3s"},settingContainer:{transition:"all 0.3s",marginBottom:"2.2rem"},icon:{color:"#70709c",transition:"all 0.3s"},selectedIcon:{transition:"all 0.3s",color:"#fff"},selectedIconButton:{transition:"all 0.3s","&:hover":{backgroundColor:"#3596F8"}},selected:{transition:"all 0.3s",backgroundColor:"#3596F8",borderRadius:15,boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},menuContainer:{transition:"all 0.3s",marginBottom:"1rem"}}})),v=[{IconComponent:g.a,pathname:"/admin"},{IconComponent:f.a,pathname:"/admin/categories"}],C=function(e){var t=Object(d.g)(),n=Object(d.f)(),r=A();return t.pathname=function(e){var t=e.pathname.split("/"),n=[];return t.forEach((function(e){e&&n.push(e)})),"/"+n.join("/")}(t),Object(a.jsxs)(m.a,Object(s.a)(Object(s.a)({container:!0,item:!0,wrap:"nowrap",direction:"column"},e),{},{className:r.root,children:[Object(a.jsx)(m.a,{item:!0,container:!0,justify:"center",className:r.settingContainer,children:Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(x.a,{className:r.iconButton,children:Object(a.jsx)(O.a,{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABmCAYAAAAXmsXwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO7SURBVHhe7dvJTxRBGMZh/2DWISEhLB7wROTCQWBgiCAYMBExQsAMglEjEBZBlAiyGxgGBAZmh8Nnf0X01CZE0lNdr+/hCUeq+jdd3dM1fe8ykxdyH0OCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIEIRMpMvSr54LVnvr225wpUZSzpb8B1rWFkPqQdv4/uhDD37IN2xuHWxnriMjS1I8uRCMjl3YloNmckVZXMrIU33n0p5eVQqKrpCIOqNpVPaO8bl9DzjzJlpNaQuYSMjs+bg1dT0hEYkEjO+rv3wltqi79jDxmrIwtW1DL+YNWej3wG1qbo6Jl/W9s0102/sYWM1pF4fdWltbByQinK/Za70Kj1lZVF51D4uZ1xaby+TL8j6xoEMDr6Tjs4Jq9o7JiQafS2vRuclkUyZa7jfmMPIekilZ2a+eHPbHwY5bywu3bGqUISku2NIEAwJgiFBMCQIhgTBkCBCE1KfoOh3N5fZfAoUipD6PFN3Gg6Pzpz28yxt7dms9ZD6KZ6aXpWHrSPS/GDIaS0twxKPL/vOM2hWQ2YLRVlc2jK7DZWVXWbHwWU3c+iWmbn1kp+ZVkPqNpb+MiCM21j/SvdW+55Mm7n5zTkoVkPmvcmOTyyayfsdFBfpXEZezv1fIfX6eHSckra2UbMkua6qqltavWv9QeKs5Hew1m929Lb95PRS5hc2ZfLNitNm5zbk+OTSzMlvrkGyHlLpp1dvDnQf0GneHGx9lwxFSLo7hgTBkCAYEgRDgmBIEAwJIhQh09mb37aa75IloK/x+Y3DZdZD6hfoi3RONjYPZeXzbqCW9e/qruzun4hLvyK/Dash9Uw8TWWkt3dKamsf/3n/Iki61VRf3y/xyWWomFZD6msCU29XzQHW19j8dhOCoA+36+r6ZGv7yCzpfmNzjdWQutUzOPTeC1n6bSz98Cx92jbXTL+xucZqSD2IH2e+mTNEd9j1AEciwdL/octrU9OA7Om1Mu/Wyzp/Y/kaWZDUZU6eD89IQ0O/uU6WQnPzkPkAoSyrympIpTFVInku2ztJ2QrYzt6x2f9Eiqish/xNY+pdZPDs/v40KKEJSXfDkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJIS+/AP9y9GEwGwg3AAAAAElFTkSuQmCC"})})})}),v.map((function(e){return Object(a.jsx)(m.a,{item:!0,container:!0,justify:"center",className:r.menuContainer,children:Object(a.jsx)(m.a,{item:!0,className:Object(u.a)(Object(p.a)({},r.selected,e.pathname===t.pathname)),children:Object(a.jsx)(x.a,{onClick:function(){return n.push(e.pathname)},className:Object(u.a)(r.iconButton,Object(p.a)({},r.selectedIconButton,e.pathname===t.pathname)),children:Object(a.jsx)(e.IconComponent,{className:Object(u.a)(r.icon,Object(p.a)({},r.selectedIcon,e.pathname===t.pathname))})})})},e.pathname)}))]}))},w=n(111),y=n(113),k=n(104),I=n(103),E=n(105),B=n(102),N=Object(b.a)((function(){return{root:{backgroundColor:"transparent",position:"fixed"},headerContainer:{backgroundColor:"#fff",borderRadius:35,margin:"1rem 2rem"},title:{letterSpacing:2},nakedInput:{"& .MuiInputBase-input::placeholder":{fontSize:15,fontFamily:"Poppins",color:"#70709c"}},icon:{color:"#70709c"},divider:{border:".5px solid #E8E8EF",height:38,margin:"1rem"},badge:{backgroundColor:"#F2406D"}}})),S=function(e){var t=Object(B.a)("(max-width:823px)"),n=Object(B.a)("(max-width:473px)"),r=Object(B.a)("(max-width:414px)"),o=Object(B.a)("(max-width:375px)"),c=N();return Object(a.jsx)(m.a,Object(s.a)(Object(s.a)({item:!0},e),{},{container:!0,className:c.root,style:Object(s.a)(Object(s.a)({},e.style),{},{paddingLeft:n?0:83}),children:Object(a.jsxs)(m.a,{container:!0,justify:"space-between",alignItems:"center",item:!0,className:c.headerContainer,style:{padding:o?"0 1rem":"0 3rem"},children:[Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)("h2",{className:c.title,style:{display:t?"none":""},children:"Oh My Food"})}),Object(a.jsx)(m.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(a.jsxs)(m.a,{item:!0,container:!0,alignItems:"center",children:[Object(a.jsx)(m.a,{item:!0,xs:7,sm:3,children:Object(a.jsx)(w.a,{startAdornment:Object(a.jsx)(y.a,{position:"start",children:Object(a.jsx)(I.a,{className:c.icon})}),className:c.nakedInput,placeholder:"Search Here",inputProps:{"aria-label":"naked"}})}),Object(a.jsx)("div",{className:c.divider}),Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(x.a,{children:Object(a.jsx)(k.a,{classes:{colorPrimary:c.badge},color:"primary",variant:"dot",overlap:"circle",children:Object(a.jsx)(E.a,{className:c.icon})})})}),Object(a.jsx)("div",{style:{flex:1,display:r?"none":""}}),Object(a.jsx)(m.a,{item:!0,style:{display:r?"none":""},children:Object(a.jsx)("div",{children:"Su"})})]})})]})}))},D=n(107),F=Object(b.a)((function(){return{container:{flex:1},fab:{transition:"all 0.3s",position:"absolute",right:20,bottom:20,backgroundColor:"#70709c",color:"#fff","&:hover":{backgroundColor:"#70709c"}},icon:{transition:"all 0.3s"}}})),M=function(e){var t=e.routes,n=Object(B.a)("(max-width:473px)"),o=Object(d.g)(),c=F(),i=Object(r.useState)(!0),s=Object(j.a)(i,2),l=s[0],b=s[1];Object(r.useEffect)((function(){-1!==o.pathname.indexOf("/admin/login")||n?b(!1):b(!0)}),[o,n]);var p={display:-1!==o.pathname.indexOf("/admin/login")?"none":""};return Object(a.jsxs)(m.a,{container:!0,children:[Object(a.jsx)(C,{style:{width:l?83:0,position:n?"absolute":"static"}}),Object(a.jsx)(h.a,{style:{transform:n&&-1===o.pathname.indexOf("/admin/login")?"scale(1)":"scale(0)"},"aria-label":"expand",className:c.fab,onClick:function(){return b((function(e){return!e}))},children:Object(a.jsx)(D.a,{className:c.icon,style:{transform:l?"rotate(0deg)":"rotate(-180deg)"}})}),Object(a.jsx)(S,{style:p}),Object(a.jsx)(m.a,{item:!0,className:c.container,children:Object(a.jsx)(d.c,{children:t.map((function(e){return Object(a.jsx)(d.a,{path:e.path,exact:!0,component:e.component},e.path)}))})})]})},Q=n(41),z=n.n(Q),W=n(49),Z=n(109),P=Object(b.a)((function(){return{input:{borderWidth:0,padding:".6rem .9rem",borderRadius:10,width:"100%",color:"#E9E9E9",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#E9E9E9"}},errorLabel:{color:"red",fontSize:12}}})),L=function(e){var t=P(),n=Object(s.a)({},e);delete n.errorLabel;var o="";return e.errorLabel&&(o=Object(a.jsx)("div",{className:t.errorLabel,children:e.errorLabel})),Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("input",Object(s.a)(Object(s.a)({},n),{},{className:"".concat(t.input," ").concat(e.className)})),o]})};L.defaultProps={className:""};var U=L,Y=n.p+"static/media/ma-la-xiang-guo-10.73a334fe.jpg",G=n(50),R=n(110),q=n(108),J=Object(r.createContext)([]),T=Object(b.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),H=function(e){var t=e.children,n=T(),o=Object(r.useState)(!1);return Object(a.jsxs)(J.Provider,{value:o,children:[t,Object(a.jsx)(R.a,{className:n.backdrop,open:o[0],children:Object(a.jsx)(q.a,{color:"inherit"})})]})},K=Object(b.a)((function(){return{root:{height:"100vh"},coverImageContainer:{height:"100vh"},coverImage:{width:"100%",height:"100%"},controls:{backgroundColor:"#F3F5F9"},title:{color:"#41546B"},button:{textTransform:"capitalize",backgroundColor:"#FE9215",color:"#fff",borderRadius:10,paddingLeft:"2rem",paddingRight:"2rem","&:hover, &:active":{backgroundColor:"#FE9215"}}}})),V=function(){var e=Object(d.f)(),t=Object(r.useContext)(J),n=Object(j.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)("09404888722"),s=Object(j.a)(i,2),l=s[0],b=s[1],h=Object(r.useState)("123456"),p=Object(j.a)(h,2),u=p[0],x=p[1],O=Object(r.useState)(""),g=Object(j.a)(O,2),f=g[0],A=g[1],v=Object(r.useState)(""),C=Object(j.a)(v,2),w=C[0],y=C[1],k=K(),I=Object(B.a)("(max-width:1024px)"),E=function(){return l.length>=9&&l.length<=11&&u.length>0},N=function(){var t=Object(W.a)(z.a.mark((function t(){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!E()){t.next=13;break}return"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",c(!0),t.next=6,fetch(G.a.gql_api,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",variables:{phone:l,password:u}})}).then((function(e){return e.json()}));case 6:if(n=t.sent,c(!1),"admin"===n.data.login.user.role){t.next=11;break}throw new Error("Unauthorized!");case 11:localStorage.setItem("ohmyfood_token",n.token),e.push("/admin");case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),o&&c(!1),alert(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(m.a,{container:!0,className:k.root,children:[Object(a.jsx)(m.a,{justify:"center",alignItems:"center",container:!0,item:!0,xs:12,sm:12,md:12,lg:7,className:k.controls,children:Object(a.jsxs)(m.a,{spacing:3,item:!0,container:!0,xs:10,md:4,direction:"column",justify:"center",children:[Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)("h2",{className:k.title,children:"Login to Oh My Food Admin"})}),Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(U,{placeholder:"Phone number",value:l,onChange:function(e){e.target.value=e.target.value.replace(/[a-zA-z]/g,"");var t=e.target.value;b(t),t.length<9||t.length>11?A("Phone no must be between 9 and 11 characters!"):A("")},errorLabel:f})}),Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(U,{type:"password",placeholder:"Password",value:u,onChange:function(e){var t=e.target.value;x(t),0===t.length?y("Password must not be empty!"):y("")},errorLabel:w})}),Object(a.jsx)(m.a,{item:!0,container:!0,justify:"flex-end",children:Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(Z.a,{size:"large",variant:"contained",className:k.button,onClick:N,disabled:!E()||o,children:"Log In"})})})]})}),Object(a.jsx)(m.a,{style:{display:I?"none":""},item:!0,xs:12,md:5,className:k.coverImageContainer,children:Object(a.jsx)("img",{src:Y,className:k.coverImage,alt:""})})]})},X=function(){return Object(a.jsx)("div",{children:"Dashboard"})},$=Object(b.a)((function(){return{root:{}}})),_=[{path:"/admin/login",component:V},{path:"/admin",component:X},{path:"/admin/categories",component:function(){var e=$();return Object(a.jsx)("div",{className:e.root,children:"Category"})}}],ee=function(){return Object(a.jsx)(l.a,{children:Object(a.jsx)(d.c,{children:Object(a.jsx)(d.a,{path:"/admin/",render:function(e){return Object(a.jsx)(M,Object(s.a)(Object(s.a)({},e),{},{routes:_}))}})})})},te=function(){return Object(a.jsx)(H,{children:Object(a.jsx)(ee,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(te,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.17a8f789.chunk.js.map