(this.webpackJsonpohmyfoodadmin=this.webpackJsonpohmyfoodadmin||[]).push([[0],{103:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(12),i=a.n(o),s=(a(103),a(5)),l=a(47),d=a(13),j=a(9),b=a(148),u=a(151),p=a(158),m=a(26),g=a(4),x=a(152),h=a(175),O=a(149),f=a(150),y=Object(b.a)((function(){return{root:{left:0,height:"100vh",overflow:"auto",backgroundColor:"#F2F4F7",transition:"all 0.3s",zIndex:99},iconButton:{"&:hover":{backgroundColor:"#F2F4F7"},transition:"all 0.3s"},settingContainer:{transition:"all 0.3s",marginBottom:"2.2rem"},icon:{color:"#70709c",transition:"all 0.3s"},selectedIcon:{transition:"all 0.3s",color:"#fff"},selectedIconButton:{transition:"all 0.3s","&:hover":{backgroundColor:"#3596F8"}},selected:{transition:"all 0.3s",backgroundColor:"#3596F8",borderRadius:15,boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},menuContainer:{transition:"all 0.3s",marginBottom:"1rem"}}})),v=[{IconComponent:O.a,pathname:"/admin"},{IconComponent:f.a,pathname:"/admin/categories"}],k=function(e){var t=Object(d.g)(),a=Object(d.f)(),r=y();return t.pathname=function(e){var t=e.pathname.split("/"),a=[];return t.forEach((function(e){e&&a.push(e)})),"/"+a.join("/")}(t),Object(n.jsxs)(u.a,Object(s.a)(Object(s.a)({container:!0,item:!0,wrap:"nowrap",direction:"column"},e),{},{className:r.root,children:[Object(n.jsx)(u.a,{item:!0,container:!0,justify:"center",className:r.settingContainer,children:Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{className:r.iconButton,children:Object(n.jsx)(h.a,{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABmCAYAAAAXmsXwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO7SURBVHhe7dvJTxRBGMZh/2DWISEhLB7wROTCQWBgiCAYMBExQsAMglEjEBZBlAiyGxgGBAZmh8Nnf0X01CZE0lNdr+/hCUeq+jdd3dM1fe8ykxdyH0OCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIEIRMpMvSr54LVnvr225wpUZSzpb8B1rWFkPqQdv4/uhDD37IN2xuHWxnriMjS1I8uRCMjl3YloNmckVZXMrIU33n0p5eVQqKrpCIOqNpVPaO8bl9DzjzJlpNaQuYSMjs+bg1dT0hEYkEjO+rv3wltqi79jDxmrIwtW1DL+YNWej3wG1qbo6Jl/W9s0102/sYWM1pF4fdWltbByQinK/Za70Kj1lZVF51D4uZ1xaby+TL8j6xoEMDr6Tjs4Jq9o7JiQafS2vRuclkUyZa7jfmMPIekilZ2a+eHPbHwY5bywu3bGqUISku2NIEAwJgiFBMCQIhgTBkCBCE1KfoOh3N5fZfAoUipD6PFN3Gg6Pzpz28yxt7dms9ZD6KZ6aXpWHrSPS/GDIaS0twxKPL/vOM2hWQ2YLRVlc2jK7DZWVXWbHwWU3c+iWmbn1kp+ZVkPqNpb+MiCM21j/SvdW+55Mm7n5zTkoVkPmvcmOTyyayfsdFBfpXEZezv1fIfX6eHSckra2UbMkua6qqltavWv9QeKs5Hew1m929Lb95PRS5hc2ZfLNitNm5zbk+OTSzMlvrkGyHlLpp1dvDnQf0GneHGx9lwxFSLo7hgTBkCAYEgRDgmBIEAwJIhQh09mb37aa75IloK/x+Y3DZdZD6hfoi3RONjYPZeXzbqCW9e/qruzun4hLvyK/Dash9Uw8TWWkt3dKamsf/3n/Iki61VRf3y/xyWWomFZD6msCU29XzQHW19j8dhOCoA+36+r6ZGv7yCzpfmNzjdWQutUzOPTeC1n6bSz98Cx92jbXTL+xucZqSD2IH2e+mTNEd9j1AEciwdL/octrU9OA7Om1Mu/Wyzp/Y/kaWZDUZU6eD89IQ0O/uU6WQnPzkPkAoSyrympIpTFVInku2ztJ2QrYzt6x2f9Eiqish/xNY+pdZPDs/v40KKEJSXfDkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJIS+/AP9y9GEwGwg3AAAAAElFTkSuQmCC"})})})}),v.map((function(e){return Object(n.jsx)(u.a,{item:!0,container:!0,justify:"center",className:r.menuContainer,children:Object(n.jsx)(u.a,{item:!0,className:Object(g.a)(Object(m.a)({},r.selected,e.pathname===t.pathname)),children:Object(n.jsx)(x.a,{onClick:function(){return a.push(e.pathname)},className:Object(g.a)(r.iconButton,Object(m.a)({},r.selectedIconButton,e.pathname===t.pathname)),children:Object(n.jsx)(e.IconComponent,{className:Object(g.a)(r.icon,Object(m.a)({},r.selectedIcon,e.pathname===t.pathname))})})})},e.pathname)}))]}))},C=a(174),w=a(154),S=a(156),N=a(155),A=a(157),I=a(153),T=Object(b.a)((function(){return{root:{backgroundColor:"transparent",position:"fixed",zIndex:98},headerContainer:{backgroundColor:"#fff",borderRadius:35,margin:"1rem 2rem",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},title:{letterSpacing:2},nakedInput:{"& .MuiInputBase-input::placeholder":{fontSize:15,fontFamily:"Poppins",color:"#70709c"}},icon:{color:"#70709c"},divider:{border:".5px solid #E8E8EF",height:38,margin:"1rem"},badge:{backgroundColor:"#F2406D"}}})),E=function(e){var t=Object(I.a)("(max-width:823px)"),a=Object(I.a)("(max-width:473px)"),r=Object(I.a)("(max-width:414px)"),c=Object(I.a)("(max-width:375px)"),o=T();return Object(n.jsx)(u.a,Object(s.a)(Object(s.a)({item:!0},e),{},{container:!0,className:o.root,style:Object(s.a)(Object(s.a)({},e.style),{},{paddingLeft:a?0:83}),children:Object(n.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",item:!0,className:o.headerContainer,style:{padding:c?"0 1rem":"0 3rem"},children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)("h2",{className:o.title,style:{display:t?"none":""},children:"Oh My Food"})}),Object(n.jsx)(u.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(n.jsxs)(u.a,{item:!0,container:!0,alignItems:"center",children:[Object(n.jsx)(u.a,{item:!0,xs:7,sm:3,children:Object(n.jsx)(C.a,{startAdornment:Object(n.jsx)(w.a,{position:"start",children:Object(n.jsx)(N.a,{className:o.icon})}),className:o.nakedInput,placeholder:"Search Here",inputProps:{"aria-label":"naked"}})}),Object(n.jsx)("div",{className:o.divider}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{children:Object(n.jsx)(S.a,{classes:{colorPrimary:o.badge},color:"primary",variant:"dot",overlap:"circle",children:Object(n.jsx)(A.a,{className:o.icon})})})}),Object(n.jsx)("div",{style:{flex:1,display:r?"none":""}}),Object(n.jsx)(u.a,{item:!0,style:{display:r?"none":""},children:Object(n.jsx)("div",{children:"Su"})})]})})]})}))},B=a(159),z=Object(b.a)((function(){return{container:{flex:1},fab:{transition:"all 0.3s",position:"absolute",right:20,bottom:20,backgroundColor:"#70709c",color:"#fff","&:hover":{backgroundColor:"#70709c"}},icon:{transition:"all 0.3s"}}})),F=function(e){var t=e.routes,a=Object(I.a)("(max-width:473px)"),c=Object(d.g)(),o=z(),i=Object(r.useState)(!0),s=Object(j.a)(i,2),l=s[0],b=s[1];Object(r.useEffect)((function(){-1!==c.pathname.indexOf("/admin/login")||a?b(!1):b(!0)}),[c,a]);var m={display:-1!==c.pathname.indexOf("/admin/login")?"none":""};return Object(n.jsxs)(u.a,{container:!0,children:[Object(n.jsx)(k,{style:{width:l?83:0,position:a?"absolute":"static"}}),Object(n.jsx)(p.a,{style:{transform:a&&-1===c.pathname.indexOf("/admin/login")?"scale(1)":"scale(0)"},"aria-label":"expand",className:o.fab,onClick:function(){return b((function(e){return!e}))},children:Object(n.jsx)(B.a,{className:o.icon,style:{transform:l?"rotate(0deg)":"rotate(-180deg)"}})}),Object(n.jsx)(E,{style:m}),Object(n.jsx)(u.a,{item:!0,className:o.container,children:Object(n.jsx)(d.c,{children:t.map((function(e){return Object(n.jsx)(d.a,{path:e.path,exact:!0,component:e.component},e.path)}))})})]})},D=a(16),P=a.n(D),R=a(25),$=a(161),U=Object(b.a)((function(){return{input:{borderWidth:0,padding:".6rem .9rem",borderRadius:10,width:"100%",color:"#E9E9E9",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#E9E9E9"}},errorLabel:{color:"red",fontSize:12}}})),G=function(e){var t=U(),a=Object(s.a)({},e);delete a.errorLabel;var c="";return e.errorLabel&&(c=Object(n.jsx)("div",{className:t.errorLabel,children:e.errorLabel})),Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("input",Object(s.a)(Object(s.a)({},a),{},{className:"".concat(t.input," ").concat(e.className)})),c]})};G.defaultProps={className:""};var L=G,_=a.p+"static/media/ma-la-xiang-guo-10.73a334fe.jpg",M=a(51),W=a(116),Q=a(160),q=Object(r.createContext)([]),Y=Object(b.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Z=function(e,t){switch(t.type){case"LOADING":return Object(s.a)(Object(s.a)({},e),{},{loading:t.payload});case"TOKEN":return Object(s.a)(Object(s.a)({},e),{},{token:t.payload});case"SET_STATE":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},H=function(e){var t=e.children,a=Y(),c=Object(r.useReducer)(Z,{loading:!1,token:""});return Object(n.jsxs)(q.Provider,{value:c,children:[t,Object(n.jsx)(W.a,{className:a.backdrop,open:c[0].loading,children:Object(n.jsx)(Q.a,{color:"inherit"})})]})},J=Object(b.a)((function(){return{root:{height:"100vh"},coverImageContainer:{height:"100vh"},coverImage:{width:"100%",height:"100%"},controls:{backgroundColor:"#F3F5F9"},title:{color:"#41546B"},button:{textTransform:"capitalize",backgroundColor:"#FE9215",color:"#fff",borderRadius:10,paddingLeft:"2rem",paddingRight:"2rem","&:hover, &:active":{backgroundColor:"#FE9215"}}}})),V=function(){var e=Object(d.f)(),t=Object(r.useContext)(q),a=Object(j.a)(t,2),c=a[0],o=a[1],i=Object(r.useState)("09404888722"),s=Object(j.a)(i,2),l=s[0],b=s[1],p=Object(r.useState)("123456"),m=Object(j.a)(p,2),g=m[0],x=m[1],h=Object(r.useState)(""),O=Object(j.a)(h,2),f=O[0],y=O[1],v=Object(r.useState)(""),k=Object(j.a)(v,2),C=k[0],w=k[1],S=J(),N=Object(I.a)("(max-width:1024px)"),A=function(){return l.length>=9&&l.length<=11&&g.length>0},T=function(){var t=Object(R.a)(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!A()){t.next=13;break}return"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",o({type:"LOADING",payload:!0}),t.next=6,fetch(M.a.gql_api,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n          query Login($phone: String!, $password: String!) {\n            login(phone: $phone, password: $password) {\n                token\n                user {\n                    _id\n                    role\n                }\n            }\n          }\n        ",variables:{phone:l,password:g}})}).then((function(e){return e.json()}));case 6:if(a=t.sent,o({type:"LOADING",payload:!1}),"admin"===a.data.login.user.role){t.next=11;break}throw new Error("Unauthorized!");case 11:localStorage.setItem("ohmyfood_token",a.data.login.token),e.push("/admin");case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),c.loading&&o({type:"LOADING",payload:!0}),alert(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(u.a,{container:!0,className:S.root,children:[Object(n.jsx)(u.a,{justify:"center",alignItems:"center",container:!0,item:!0,xs:12,sm:12,md:12,lg:7,className:S.controls,children:Object(n.jsxs)(u.a,{spacing:3,item:!0,container:!0,xs:10,md:4,direction:"column",justify:"center",children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)("h2",{className:S.title,children:"Login to Oh My Food Admin"})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(L,{placeholder:"Phone number",value:l,onChange:function(e){e.target.value=e.target.value.replace(/[a-zA-z]/g,"");var t=e.target.value;b(t),t.length<9||t.length>11?y("Phone no must be between 9 and 11 characters!"):y("")},errorLabel:f})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(L,{type:"password",placeholder:"Password",value:g,onChange:function(e){var t=e.target.value;x(t),0===t.length?w("Password must not be empty!"):w("")},errorLabel:C})}),Object(n.jsx)(u.a,{item:!0,container:!0,justify:"flex-end",children:Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{size:"large",variant:"contained",className:S.button,onClick:T,disabled:!A()||c.loading,children:"Log In"})})})]})}),Object(n.jsx)(u.a,{style:{display:N?"none":""},item:!0,xs:12,md:5,className:S.coverImageContainer,children:Object(n.jsx)("img",{src:_,className:S.coverImage,alt:""})})]})},K=function(){return Object(n.jsx)("div",{children:"Dashboard"})},X=a(172),ee=Object(r.createContext)({}),te=function(e,t){switch(t.type){case"CATEGORY_TYPES":return Object(s.a)(Object(s.a)({},e),{},{categoryTypes:t.payload});case"CATEGORIES":return Object(s.a)(Object(s.a)({},e),{},{categories:t.payload});case"CATEGORY_TYPE":return Object(s.a)(Object(s.a)({},e),{},{categoryType:t.payload});case"SET_STATE":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},ae=function(e){var t=e.children,a=Object(r.useReducer)(te,{categoryTypes:[],categories:[],categoryType:null});return Object(n.jsx)(ee.Provider,{value:a,children:t})},ne={post:function(e){return Object(R.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(M.a.gql_api,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("ohmyfood_token"))},body:JSON.stringify(e||{})}).then((function(e){return e.json()})));case 1:case"end":return t.stop()}}),t)})))()},upload:function(e){return Object(R.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(M.a.host,"/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("ohmyfood_token"))},body:e}).then((function(e){return e.json()})));case 1:case"end":return t.stop()}}),t)})))()}},re=a(162),ce=a(163),oe=a(85),ie=a(6),se=a(176),le=Object(ie.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#643FDB",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(oe.a)(e,["classes"]);return Object(n.jsx)(se.a,Object(s.a)({className:t.switch,focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),de=Object(b.a)((function(){return{root:{borderRadius:10,padding:"0.5rem 1rem",marginBottom:4,display:"flex",justifyContent:"space-between",alignItems:"center","&:hover":{boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"}},label:{marginRight:0},text:{fontSize:13}}})),je=function(e){var t=e.categoryType,a=de(),c=Object(r.useContext)(ee),o=Object(j.a)(c,2),i=o[0],l=o[1];return Object(n.jsxs)(re.a,{className:a.root,raised:t.selected,onClick:function(){t.selected||l({type:"SET_STATE",payload:{categoryTypes:i.categoryTypes.map((function(e){return e._id===t._id?Object(s.a)(Object(s.a)({},e),{},{selected:!0}):Object(s.a)(Object(s.a)({},e),{},{selected:!1})})),categoryType:t}})},children:[Object(n.jsx)("div",{className:a.text,children:t.name}),Object(n.jsx)(ce.a,{classes:{root:a.label},control:Object(n.jsx)(le,{onClick:function(e){return e.stopPropagation()},checked:t.include,onChange:function(e){l({type:"CATEGORY_TYPES",payload:i.categoryTypes.map((function(a){return a._id===t._id?Object(s.a)(Object(s.a)({},a),{},Object(m.a)({},e.target.name,e.target.checked)):a}))});ne.post({query:"\n      mutation UpdateCategoryType($id: ID!, $name: String!, $imageUrl: String!, $include: Boolean!, $categories: [String!]) {\n        updateCategoryType(id: $id, categoryTypeInput: {name: $name, imageUrl: $imageUrl, include: $include, categories: $categories}) {\n            _id\n            updatedAt\n        }\n      }\n    ",variables:{id:t._id,name:t.name,imageUrl:t.imageUrl,include:e.target.checked,categories:t.categories.map((function(e){return e._id}))}})},name:"include"})})]})},be=Object(b.a)((function(){return{input:{borderWidth:0,padding:".5rem .9rem",borderRadius:15,width:"100%",color:"#545F6D",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#545F6D"}}}})),ue=function(e){var t=be();return Object(n.jsx)("input",Object(s.a)({type:"text",className:t.input},e))},pe=a(64),me=a.n(pe),ge=a(63),xe=a.n(ge),he=a(165),Oe=a(164),fe=a(166),ye=a(167),ve={borderWidth:0,padding:".6rem .9rem",borderRadius:10,width:"100%",color:"#545F6D",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#545F6D"}},ke=Object(b.a)((function(){return{input:Object(s.a)({boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},ve),focus:Object(s.a)(Object(s.a)({},ve),{},{color:"#E9E9E9"}),errorLabel:{color:"red",fontSize:11,height:17}}})),Ce=function(e){var t,a=ke(),c=Object(s.a)({},e);delete c.errorLabel;var o=function(){return Object(n.jsx)(X.a,{className:a.errorLabel,children:e.errorLabel})};return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("input",Object(s.a)({type:"text",className:Object(g.a)((t={},Object(m.a)(t,a.input,!e.focus),Object(m.a)(t,a.focus,e.focus),t))},c)),Object(n.jsx)(o,{})]})},we=Object(b.a)((function(){return{root:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",borderRadius:10,background:"#fff",textTransform:"capitalize",backgroundSize:"cover",fontSize:12,"&:hover":{backgroundSize:"cover",background:"#fff"},"&:active":{backgroundSize:"cover",background:"#fff"}}}})),Se=function(e){var t=e.width,a=e.height,c=e.onUpload,o=e.src,i=Object(r.useState)(o),s=Object(j.a)(i,2),l=s[0],d=s[1],b=Object(r.useRef)(null),u=we();return Object(n.jsxs)($.a,{variant:"outlined",className:u.root,style:{width:t,height:a,backgroundImage:"url('".concat(l,"')")},onClick:function(){b.current.click()},children:["Image",Object(n.jsx)("input",{ref:b,type:"file",style:{display:"none"},onChange:function(e){var t=e.target.files;if(t[0]){c(t[0]);var a=new FileReader;a.addEventListener("load",(function(e){d(e.target.result)})),a.readAsDataURL(t[0])}}})]})},Ne=Object(b.a)((function(){return{root:{borderRadius:20,padding:"1.4rem 1rem"},button:{textTransform:"capitalize",borderRadius:10,fontSize:12,width:"40%"}}})),Ae=function(e){var t=e.open,a=e.onClose,c=Object(r.useContext)(q),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Ne(),d=Object(r.useState)(""),b=Object(j.a)(d,2),p=b[0],m=b[1],g=Object(r.useState)(""),x=Object(j.a)(g,2),h=x[0],O=x[1],f=Object(r.useState)(null),y=Object(j.a)(f,2),v=y[0],k=y[1],C=function(){var e=Object(R.a)(P.a.mark((function e(){var t,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||!p||i.loading){e.next=14;break}return(t=new FormData).append("image",v),t.append("oldImage",""),s({type:"LOADING",payload:!0}),e.next=7,ne.upload(t);case 7:return n=e.sent,r=n.imageUrl,"\n        mutation CreateCategoryType($name: String!, $imageUrl: String!, $include: Boolean!, $categories: [String!]) {\n          createCategoryType(categoryTypeInput: {name: $name, imageUrl: $imageUrl, include: $include, categories: $categories}) {\n              _id\n          }\n        }\n      ",e.next=12,ne.post({query:"\n        mutation CreateCategoryType($name: String!, $imageUrl: String!, $include: Boolean!, $categories: [String!]) {\n          createCategoryType(categoryTypeInput: {name: $name, imageUrl: $imageUrl, include: $include, categories: $categories}) {\n              _id\n          }\n        }\n      ",variables:{name:p,imageUrl:r,include:!0,categories:[]}});case 12:s({type:"LOADING",payload:!1}),a();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(Oe.a,{open:t,onClose:a,classes:{paper:l.root},children:[Object(n.jsx)(he.a,{style:{textAlign:"center"},children:"New Category Type"}),Object(n.jsxs)(fe.a,{style:{padding:"0 3rem"},children:[Object(n.jsx)(u.a,{container:!0,spacing:1,justify:"center",style:{marginBottom:"1rem"},children:Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(Se,{width:115,height:120,onUpload:k})})}),Object(n.jsx)(u.a,{container:!0,spacing:1,justify:"center",style:{marginBottom:"1.5rem"},children:Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(Ce,{placeholder:"Name",errorLabel:h,value:p,onChange:function(e){O(""),e.target.value||O("Name must not be empty!"),m(e.target.value)}})})})]}),Object(n.jsxs)(ye.a,{style:{justifyContent:"center"},children:[Object(n.jsx)($.a,{variant:"outlined",className:l.button,onClick:a,children:"Cancel"}),Object(n.jsx)($.a,{disabled:!v||!!h,variant:"contained",className:l.button,style:{background:"#3696F8",color:"#fff"},onClick:C,children:"Save"})]})]})},Ie=void 0,Te=Object(b.a)((function(){return{root:{},wrapper:{marginTop:"1rem"},iconButton:{background:"#fff",padding:"0.5rem"},icon:{color:"#70709c",fontSize:20},nextPrevIcon:{color:"#70709c",fontSize:10},addButton:{textTransform:"capitalize",borderRadius:15,fontSize:12},buttonWrapper:{display:"flex",justifyContent:"space-between"}}})),Ee=function(){var e=Te(),t=Object(r.useContext)(q),a=Object(j.a)(t,2)[1],c=Object(r.useContext)(ee),o=Object(j.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(!1),b=Object(j.a)(d,2),p=b[0],m=b[1],g=Object(r.useState)(1),h=Object(j.a)(g,2),O=h[0],f=h[1],y=Object(r.useState)(0),v=Object(j.a)(y,2),k=v[0],C=v[1];Object(r.useEffect)((function(){Object(R.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n        query CategoryTypes($page: Int!, $perPage: Int!) {\n          categoryTypes(page: $page, perPage: $perPage) {\n              totalRows\n              page\n              perPage\n              categoryTypes {\n                  _id\n                  name\n                  imageUrl\n                  include\n                  categories {\n                    _id\n                  }\n              }\n          }\n        }\n      ",a({type:"LOADING",payload:!0}),e.next=4,ne.post({query:"\n        query CategoryTypes($page: Int!, $perPage: Int!) {\n          categoryTypes(page: $page, perPage: $perPage) {\n              totalRows\n              page\n              perPage\n              categoryTypes {\n                  _id\n                  name\n                  imageUrl\n                  include\n                  categories {\n                    _id\n                  }\n              }\n          }\n        }\n      ",variables:{page:O,perPage:5}});case 4:t=e.sent,a({type:"LOADING",payload:!1}),l({type:"SET_STATE",payload:{categoryTypes:t.data.categoryTypes.categoryTypes.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{selected:0===t})})),categoryType:t.data.categoryTypes.categoryTypes.length?t.data.categoryTypes.categoryTypes[0]:null}}),C(Math.ceil(t.data.categoryTypes.totalRows/5));case 8:case"end":return e.stop()}}),e)})))()}),[a,l,O,C]);var w=function(e){switch(e){case"next":O!==k&&f(O+1);break;default:1!==O&&f(O-1)}};return Object(n.jsxs)(X.a,{className:e.root,children:[Object(n.jsxs)(u.a,{container:!0,alignItems:"center",spacing:1,children:[Object(n.jsx)(u.a,{item:!0,lg:10,children:Object(n.jsx)(ue,{})}),Object(n.jsx)(u.a,{item:!0,lg:2,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(N.a,{className:e.icon})})})]}),Object(n.jsx)(X.a,{className:e.wrapper,children:i.categoryTypes.map((function(e){return Object(n.jsx)(je,{categoryType:e},e._id)}))}),Object(n.jsxs)(u.a,{container:!0,justify:"space-around",alignItems:"center",className:e.wrapper,children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{onClick:w.bind(Ie,"prev"),size:"small","aria-label":"prev",className:e.iconButton,children:Object(n.jsx)(xe.a,{className:e.nextPrevIcon})})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{variant:"outlined",size:"small",className:e.addButton,onClick:function(){return m(!0)},children:"Add more"})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{onClick:w.bind(Ie,"next"),size:"small","aria-label":"next",className:e.iconButton,children:Object(n.jsx)(me.a,{className:e.nextPrevIcon})})})]}),Object(n.jsx)(Ae,{open:p,onClose:function(){m(!1)}})]})},Be=a(168),ze=a(169),Fe=a(170),De=a(171),Pe=Object(b.a)((function(){return{root:{overflowX:"auto"},headerGrid:{flex:1,fontSize:14,cursor:"pointer"},noGrid:{fontSize:14,cursor:"pointer",flexBasis:30},headerGridRow:{padding:"0 1.9rem"},gridRow:{fontSize:12,padding:"1.5rem 1rem",margin:"1rem"}}})),Re=function(e){var t=e.headers,a=e.items,r=e.children,c=Pe();return Object(n.jsxs)(X.a,{className:c.root,children:[Object(n.jsxs)(u.a,{container:!0,spacing:1,alignItems:"center",className:c.headerGridRow,children:[Object(n.jsx)(u.a,{item:!0,className:c.noGrid,children:"#"}),t.map((function(e,t){return Object(n.jsx)(u.a,{item:!0,className:c.headerGrid,children:e.text},"grid_table__header__".concat(t))}))]}),a.map((function(e,t){return Object(n.jsx)(re.a,{raised:!0,className:c.gridRow,children:Object(n.jsxs)(u.a,{container:!0,spacing:1,children:[Object(n.jsx)(u.a,{item:!0,className:c.noGrid,style:{fontSize:12},children:t+1}),r({item:e,index:t})]})},"grid_table__body__".concat(t))}))]})},$e=Object(b.a)((function(){return{root:{},iconButton:{background:"#fff",padding:"0.5rem"},card:{transition:"all 0.3s",cursor:"pointer",width:31,height:29.5,display:"flex",justifyContent:"center",alignItems:"center",fontSize:13,borderRadius:7}}})),Ue=function(e){var t=e.count,a=e.page,r=e.onPageChange,c=$e(),o=function(){return t>7?null:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=[],a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a<=e;a++)t.push(a);return t}(1,t).map((function(e,t){return Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(re.a,{onClick:function(){return r(e)},className:c.card,style:{background:a===e?"black":"#fff"},children:Object(n.jsx)($.a,{style:{color:a===e?"#fff":"black"},children:e})})},"page".concat(t))}))};return Object(n.jsxs)(u.a,{container:!0,spacing:1,className:c.root,justify:"center",children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"prev",className:c.iconButton,children:Object(n.jsx)(xe.a,{className:c.nextPrevIcon,style:{fontSize:12}})})}),Object(n.jsx)(o,{}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"next",className:c.iconButton,children:Object(n.jsx)(me.a,{className:c.nextPrevIcon,style:{fontSize:12}})})})]})},Ge=a(173),Le=a(177),_e=a(84),Me=a.n(_e),We=Object(b.a)((function(){return{button:{fontSize:12,borderRadius:7,background:"#fff",textTransform:"lowercase"}}})),Qe=function(e){var t=e.items,a=e.value,c=e.onChange,o=We(),i=Object(r.useState)(null),s=Object(j.a)(i,2),l=s[0],d=s[1],b=function(e){d(null),c(e)};return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsxs)($.a,{variant:"contained","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},className:o.button,children:[a," ",Object(n.jsx)(Me.a,{style:{fontSize:20}})]}),Object(n.jsx)(Ge.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){d(null)},children:t.map((function(e){return Object(n.jsxs)(Le.a,{value:e,onClick:b.bind(undefined,e),children:[e," per page"]},e)}))})]})},qe={textTransform:"capitalize",color:"#fff",borderRadius:4,width:"100%"},Ye=Object(b.a)((function(){return{root:{padding:"1rem",borderRadius:15},iconButton:{background:"#fff",padding:"0.5rem",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},icon:{color:"#70709c",fontSize:20},showAllButton:{textTransform:"capitalize",borderRadius:15,fontSize:12},tableControl:{padding:"0 1rem",marginTop:"2rem",marginBottom:"1rem"},paginationWrapper:{padding:"0 1rem"},addButton:Object(s.a)(Object(s.a)({},qe),{},{background:"#3696F8","&:active":{background:"#3696F8"},"&:hover":{background:"#3696F8"}}),exportButton:Object(s.a)(Object(s.a)({},qe),{},{background:"green","&:active":{background:"green"},"&:hover":{background:"green"}}),printButton:Object(s.a)(Object(s.a)({},qe),{},{background:"#F23F6D","&:active":{background:"#F23F6D"},"&:hover":{background:"#F23F6D"}})}})),Ze=function(){var e=Ye(),t=Object(r.useContext)(q),a=Object(j.a)(t,2)[1],c=Object(r.useContext)(ee),o=Object(j.a)(c,2),i=o[0],s=i.categoryType,l=i.categories,d=o[1],b=Object(r.useState)(10),p=Object(j.a)(b,2),m=p[0],g=p[1],h=Object(r.useState)(1),O=Object(j.a)(h,2),f=O[0],y=O[1],v=Object(r.useState)(0),k=Object(j.a)(v,2),C=k[0],w=k[1];return Object(r.useEffect)((function(){Object(R.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\n        query CategoryType($id: ID!) {\n          categoryType(id: $id) {\n              categories {\n                  _id\n                  name\n                  price\n                  discountPercent\n                  openHour\n                  closeHour\n                  imageUrl\n                  tags\n              }\n          }\n        }\n      ",!s){e.next=10;break}return a({type:"LOADING",payload:!0}),e.next=5,ne.post({query:"\n        query CategoryType($id: ID!) {\n          categoryType(id: $id) {\n              categories {\n                  _id\n                  name\n                  price\n                  discountPercent\n                  openHour\n                  closeHour\n                  imageUrl\n                  tags\n              }\n          }\n        }\n      ",variables:{id:s._id}});case 5:t=e.sent,a({type:"LOADING",payload:!1}),n=t.data.categoryType.categories,d({type:"CATEGORIES",payload:n}),w(Math.ceil(n.length/m));case 10:case"end":return e.stop()}}),e)})))()}),[a,d,s]),s?Object(n.jsx)(X.a,{children:Object(n.jsxs)(re.a,{className:e.root,children:[Object(n.jsxs)(u.a,{container:!0,item:!0,lg:12,alignItems:"center",spacing:1,children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)("h4",{style:{margin:0},children:s.name})}),Object(n.jsx)(u.a,{item:!0,style:{flex:1}}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(Be.a,{className:e.icon})})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,style:{background:"red"},children:Object(n.jsx)(ze.a,{className:e.icon,style:{color:"#fff"}})})})]}),Object(n.jsxs)(u.a,{container:!0,spacing:1,justify:"flex-end",style:{marginTop:"1rem"},children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{size:"small",variant:"contained",className:e.addButton,children:"Add"})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{size:"small",variant:"contained",className:e.exportButton,children:"Export Excel"})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{size:"small",variant:"contained",className:e.printButton,children:"Print"})})]}),Object(n.jsxs)(u.a,{container:!0,spacing:1,className:e.tableControl,children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(Fe.a,{})})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(De.a,{})})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)($.a,{variant:"outlined",size:"small",className:e.showAllButton,children:"Show all"})}),Object(n.jsx)(u.a,{item:!0,style:{flex:1}}),Object(n.jsx)(u.a,{item:!0,lg:3,children:Object(n.jsx)(ue,{placeholder:"Search..."})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small","aria-label":"search",className:e.iconButton,children:Object(n.jsx)(N.a,{className:e.icon})})})]}),Object(n.jsx)(Re,{headers:[{key:"name",text:"Category Name"},{key:"price",text:"Price"},{key:"discountPercent",text:"Discount Percent"},{key:"openHour",text:"Open Hour"},{key:"closeHour",text:"Close Hour"},{key:"tags",text:"Tags"},{key:"",text:""}],items:l,children:function(t){var a=t.item;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.name}),Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.price}),Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.discountPercent}),Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.openHour}),Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.closeHour}),Object(n.jsx)(u.a,{item:!0,style:{flex:1},children:a.tags.join(", ")}),Object(n.jsxs)(u.a,{item:!0,container:!0,style:{flex:1},justify:"space-around",children:[Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(Be.a,{className:e.icon})})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(x.a,{size:"small",children:Object(n.jsx)(ze.a,{className:e.icon})})})]})]})}}),Object(n.jsxs)(u.a,{container:!0,justify:"space-between",className:e.paginationWrapper,children:[Object(n.jsx)(u.a,{item:!0}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(Ue,{count:C,page:f,onPageChange:function(e){return y(e)}})}),Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(Qe,{value:m,onChange:g,items:[10,20,30]})})]})]})}):null},He=Object(b.a)((function(){return{root:{paddingTop:"5.5rem",paddingLeft:"2rem",paddingRight:"2rem"}}})),Je=[{path:"/admin/login",component:V},{path:"/admin",component:K},{path:"/admin/categories",component:function(){var e=He();return Object(n.jsxs)(X.a,{className:e.root,children:[Object(n.jsx)("h3",{children:"Category"}),Object(n.jsxs)(u.a,{container:!0,children:[Object(n.jsx)(u.a,{item:!0,lg:2,children:Object(n.jsx)(Ee,{})}),Object(n.jsx)(u.a,{item:!0,lg:10,style:{paddingLeft:"2rem"},children:Object(n.jsx)(Ze,{})})]})]})}}],Ve=function(){return Object(n.jsx)(l.a,{children:Object(n.jsx)(d.c,{children:Object(n.jsx)(d.a,{path:"/admin/",render:function(e){return Object(n.jsx)(F,Object(s.a)(Object(s.a)({},e),{},{routes:Je}))}})})})},Ke=function(){return Object(n.jsx)(H,{children:Object(n.jsx)(ae,{children:Object(n.jsx)(Ve,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e){e.exports=JSON.parse('{"a":{"host":"https://oh-my-food.herokuapp.com","gql_api":"https://oh-my-food.herokuapp.com/graphql"}}')}},[[112,1,2]]]);
//# sourceMappingURL=main.c776fe27.chunk.js.map